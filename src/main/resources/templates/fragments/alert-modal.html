<!-- templates/fragments/alert-modal.html -->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<body>
<!-- 🔔삭제 모달 -->
<div th:fragment="removeModal">
    <form id="removeForm" th:action="@{/board/remove}" method="post">
        <div class="modal fade" id="removeModal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5">삭제 확인</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">삭제 하시겠습니까?</div>
                    <div class="modal-footer">
                        <input type="hidden" name="id" th:value="${board.id}">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
                        <button type="submit" class="btn btn-danger">삭제</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<!-- 🔔 알림 모달 -->
<div th:fragment="alertModal">
    <div class="modal fade" id="alertModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" th:classappend="'bg-' + ${alert?.code}">
                    <h5 class="modal-title text-white">알림</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p th:text="${alert?.message}">알림 메시지</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">확인</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 회원 탈퇴 Modal -->
<div th:fragment="userRemoveModal">
    <div class="modal fade" id="userRemoveModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5">탈퇴 확인</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="removeUserForm" th:action="@{/member/remove}" method="post">
                        <input type="hidden" name="id" th:value="${member.id}">
                        <div class="mb-3">
                            <label for="inputPassword" class="form-label">암호</label>
                            <input placeholder="기존 암호를 입력하세요."
                                   id="inputPassword"
                                   name="password"
                                   type="password"
                                   class="form-control">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
                    <button type="submit" form="removeUserForm" class="btn btn-danger">탈퇴</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 회원 정보 수정 확인 모달 -->
<div th:fragment="editModal">
    <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="editModalLabel">회원 정보 변경 확인</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body">
                    <div class="mb-3">
                        <label for="editPassword" class="form-label">비밀번호 확인</label>
                        <!-- form="editForm"으로 외부 폼에 연결 -->
                        <input type="password" class="form-control"
                               id="editPassword"
                               name="password"
                               form="editForm"
                               placeholder="현재 비밀번호를 입력하세요">
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
                    <button type="submit" form="editForm" class="btn btn-primary">저장</button>
                </div>

            </div>
        </div>
    </div>
</div>

<!-- 암호 변경 모달 -->
<div th:fragment="pwModal">
    <div class="modal fade" id="pwModal" tabindex="-1" aria-labelledby="pwModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">

                <form id="changePwForm" th:action="@{/member/changePw}" method="post">
                    <input type="hidden" name="id" th:value="${member.id}">

                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="pwModalLabel">암호 변경</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <div class="modal-body">
                        <div class="mb-3">
                            <label for="oldPassword" class="form-label">기존 암호</label>
                            <input id="oldPassword" name="oldPassword" type="password" class="form-control"
                                   placeholder="기존 암호를 입력하세요.">
                        </div>
                        <div class="mb-3">
                            <label for="newPassword" class="form-label">새 암호</label>
                            <input id="newPassword" name="newPassword" type="password" class="form-control"
                                   placeholder="변경할 새 암호를 입력하세요.">
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
                        <button type="submit" class="btn btn-primary">암호 변경</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>
